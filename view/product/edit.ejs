<%- include('../partials/header') %>
    <div class="container fade-in">
        <div class="form-container">
            <h1>‚úèÔ∏è Ch·ªânh s·ª≠a s·∫£n ph·∫©m</h1>
            <% if (typeof error !== 'undefined' && error) { %>
                <div class="alert alert-danger" style="background: #f8d7da; color: #721c24; padding: 15px; border-radius: 5px; margin-bottom: 20px; border: 1px solid #f5c6cb;">
                    <strong>‚ö†Ô∏è L·ªói:</strong>
                    <%= error %>
                </div>
                <% } %>
                    <form method="POST" action="/products/<%= product._id %>?_method=PUT">
                        <div class="form-group">
                            <label>üì± T√™n s·∫£n ph·∫©m:</label>
                            <input type="text" name="name" class="form-control" value="<%= product.name %>" required>
                        </div>

                        <div class="form-group">
                            <label>üí∞ Gi√° (VNƒê):</label>
                            <input type="number" name="price" class="form-control" value="<%= product.price %>" step="1000" min="1000" max="999999999000" required>
                            <small style="color: #7f8c8d;">Gi√° t·ª´ 1,000 VNƒê ƒë·∫øn 999,999,999,000 VNƒê</small>
                        </div>

                        <div class="form-group">
                            <label>üìä S·ªë l∆∞·ª£ng:</label>
                            <input type="number" name="quantity" class="form-control" value="<%= product.quantity %>" min="1" max="999999" required>
                            <small style="color: #7f8c8d;">S·ªë l∆∞·ª£ng t·ª´ 1 ƒë·∫øn 999,999 s·∫£n ph·∫©m</small>
                        </div>

                        <div class="form-group">
                            <label>üè¢ Nh√† cung c·∫•p:</label>
                            <select name="supplierId" class="form-control" required>
                    <% suppliers.forEach(s => { %>
                        <option value="<%= s._id %>" <%= s._id.equals(product.supplierId) ? 'selected' : '' %>><%= s.name %></option>
                    <% }) %>
                </select>
                        </div>

                        <div style="text-align: center; margin-top: 30px;">
                            <button type="submit" class="btn btn-primary">üíæ C·∫≠p nh·∫≠t</button>
                            <a href="/products" class="btn btn-secondary">‚ùå H·ªßy</a>
                        </div>
                    </form>
        </div>
    </div>
    <%- include('../partials/footer') %>