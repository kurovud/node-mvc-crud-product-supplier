<%- include('../partials/header') %>
    <div class="container fade-in">
        <div class="form-container">
            <h1>‚ûï Th√™m s·∫£n ph·∫©m m·ªõi</h1>
            <% if (typeof error !== 'undefined' && error) { %>
                <div class="alert alert-danger" style="background: #f8d7da; color: #721c24; padding: 15px; border-radius: 5px; margin-bottom: 20px; border: 1px solid #f5c6cb;">
                    <strong>‚ö†Ô∏è L·ªói:</strong>
                    <%= error %>
                </div>
                <% } %>
                    <form method="POST" action="/products">
                        <div class="form-group">
                            <label>üì± T√™n s·∫£n ph·∫©m:</label>
                            <input type="text" name="name" class="form-control" placeholder="Nh·∫≠p t√™n s·∫£n ph·∫©m" value="<%= typeof formData !== 'undefined' ? formData.name || '' : '' %>" required>
                        </div>
                        <div class="form-group">
                            <label>üí∞ Gi√° (VNƒê):</label>
                            <input type="number" name="price" class="form-control" step="1000" min="1000" max="999999999000" placeholder="Nh·∫≠p gi√° s·∫£n ph·∫©m (1,000 - 999,999,999,000 VNƒê)" value="<%= typeof formData !== 'undefined' ? formData.price || '' : '' %>" required>
                            <small style="color: #7f8c8d;">Gi√° t·ª´ 1,000 VNƒê ƒë·∫øn 999,999,999,000 VNƒê</small>
                        </div>

                        <div class="form-group">
                            <label>üìä S·ªë l∆∞·ª£ng:</label>
                            <input type="number" name="quantity" class="form-control" min="1" max="999999" placeholder="Nh·∫≠p s·ªë l∆∞·ª£ng (1 - 999,999)" value="<%= typeof formData !== 'undefined' ? formData.quantity || '' : '' %>" required>
                            <small style="color: #7f8c8d;">S·ªë l∆∞·ª£ng t·ª´ 1 ƒë·∫øn 999,999 s·∫£n ph·∫©m</small>
                        </div>

                        <div class="form-group">
                            <label>üè¢ Nh√† cung c·∫•p:</label>
                            <select name="supplierId" class="form-control" required>
                    <option value="">-- Ch·ªçn nh√† cung c·∫•p --</option>
                    <% suppliers.forEach(s => { %>
                        <option value="<%= s._id %>" <%= (typeof formData !== 'undefined' && formData.supplierId === s._id.toString()) ? 'selected' : '' %>><%= s.name %></option>
                    <% }) %>
                </select>
                        </div>

                        <div style="text-align: center; margin-top: 30px;">
                            <button type="submit" class="btn btn-primary">üíæ L∆∞u s·∫£n ph·∫©m</button>
                            <a href="/products" class="btn btn-secondary">‚ùå H·ªßy</a>
                        </div>
                    </form>
        </div>
    </div>
    <%- include('../partials/footer') %>