<%- include('partials/header') %>
    <div class="container fade-in">
        <div class="welcome-section">
            <h1>üè™ Product-Supplier Management System</h1>
            <p>Qu·∫£n l√Ω s·∫£n ph·∫©m v√† nh√† cung c·∫•p m·ªôt c√°ch hi·ªáu qu·∫£ v√† chuy√™n nghi·ªáp</p>
        </div>

        <div class="quick-actions">
            <div class="quick-action-card">
                <span class="icon">üì¶</span>
                <h3>Qu·∫£n l√Ω S·∫£n ph·∫©m</h3>
                <p>Th√™m, s·ª≠a, x√≥a v√† qu·∫£n l√Ω danh s√°ch s·∫£n ph·∫©m</p>
                <a href="/products" class="btn btn-primary">Xem S·∫£n ph·∫©m</a>
            </div>

            <div class="quick-action-card">
                <span class="icon">üè¢</span>
                <h3>Qu·∫£n l√Ω Nh√† cung c·∫•p</h3>
                <p>Th√™m, s·ª≠a, x√≥a v√† qu·∫£n l√Ω th√¥ng tin nh√† cung c·∫•p</p>
                <a href="/suppliers" class="btn btn-primary">Xem Nh√† cung c·∫•p</a>
            </div>
        </div>

        <div class="card">
            <h2>üìä Th·ªëng k√™ nhanh</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
                <div style="text-align: center; padding: 25px; background: linear-gradient(45deg, #74b9ff, #0984e3); color: white; border-radius: 15px; box-shadow: 0 10px 25px rgba(116, 185, 255, 0.3);">
                    <div style="font-size: 3em; margin-bottom: 10px;">üì¶</div>
                    <h3 style="margin-bottom: 10px; font-size: 1.2em;">T·ªïng S·∫£n ph·∫©m</h3>
                    <p style="font-size: 2.5em; font-weight: bold; margin-bottom: 5px;">
                        <%= productCount %>
                    </p>
                    <p style="opacity: 0.8; font-size: 0.9em;">
                        <% if(productCount === 0) { %>Ch∆∞a c√≥ s·∫£n ph·∫©m
                            <% } else { %>s·∫£n ph·∫©m
                                <% } %>
                    </p>
                    <a href="/products" style="color: white; text-decoration: underline; opacity: 0.8;">Xem chi ti·∫øt ‚Üí</a>
                </div>

                <div style="text-align: center; padding: 25px; background: linear-gradient(45deg, #00b894, #00a085); color: white; border-radius: 15px; box-shadow: 0 10px 25px rgba(0, 184, 148, 0.3);">
                    <div style="font-size: 3em; margin-bottom: 10px;">üè¢</div>
                    <h3 style="margin-bottom: 10px; font-size: 1.2em;">T·ªïng Nh√† cung c·∫•p</h3>
                    <p style="font-size: 2.5em; font-weight: bold; margin-bottom: 5px;">
                        <%= supplierCount %>
                    </p>
                    <p style="opacity: 0.8; font-size: 0.9em;">
                        <% if(supplierCount === 0) { %>Ch∆∞a c√≥ nh√† cung c·∫•p
                            <% } else { %>nh√† cung c·∫•p
                                <% } %>
                    </p>
                    <a href="/suppliers" style="color: white; text-decoration: underline; opacity: 0.8;">Xem chi ti·∫øt ‚Üí</a>
                </div>

                <div style="text-align: center; padding: 25px; background: linear-gradient(45deg, #fd79a8, #e84393); color: white; border-radius: 15px; box-shadow: 0 10px 25px rgba(253, 121, 168, 0.3);">
                    <div style="font-size: 3em; margin-bottom: 10px;">üí∞</div>
                    <h3 style="margin-bottom: 10px; font-size: 1.2em;">T·ªïng gi√° tr·ªã h√†ng</h3>
                    <div style="font-size: 2em; font-weight: bold; margin-bottom: 5px;">
                        <%= totalValue.toLocaleString('vi-VN') %>
                    </div>
                    <p style="opacity: 0.8; font-size: 0.9em;">VNƒê</p>
                    <p style="opacity: 0.7; font-size: 0.8em;">T·ªïng gi√° tr·ªã t·ªìn kho</p>
                </div>
            </div>

            <% if(productCount > 0 || supplierCount > 0) { %>
                <div style="margin-top: 30px; padding: 20px; background: linear-gradient(45deg, #a29bfe, #6c5ce7); border-radius: 15px; color: white; text-align: center;">
                    <h3>üéâ Tuy·ªát v·ªùi!</h3>
                    <p>H·ªá th·ªëng ƒë√£ c√≥ <strong><%= productCount %> s·∫£n ph·∫©m</strong> t·ª´ <strong><%= supplierCount %> nh√† cung c·∫•p</strong></p>
                    <p style="opacity: 0.9;">T·ªïng gi√° tr·ªã h√†ng t·ªìn kho: <strong><%= totalValue.toLocaleString('vi-VN') %> VNƒê</strong></p>
                </div>
                <% } else { %>
                    <div style="margin-top: 30px; padding: 20px; background: linear-gradient(45deg, #fab1a0, #e17055); border-radius: 15px; color: white; text-align: center;">
                        <h3>üöÄ B·∫Øt ƒë·∫ßu ngay!</h3>
                        <p>H√£y th√™m nh√† cung c·∫•p v√† s·∫£n ph·∫©m ƒë·∫ßu ti√™n ƒë·ªÉ b·∫Øt ƒë·∫ßu qu·∫£n l√Ω!</p>
                        <div style="margin-top: 15px;">
                            <a href="/suppliers/new" class="btn" style="background: rgba(255,255,255,0.2); color: white; margin: 5px;">‚ûï Th√™m nh√† cung c·∫•p</a>
                            <a href="/products/new" class="btn" style="background: rgba(255,255,255,0.2); color: white; margin: 5px;">‚ûï Th√™m s·∫£n ph·∫©m</a>
                        </div>
                    </div>
                    <% } %>
        </div>

        <% if(typeof recentProducts !== 'undefined' && recentProducts.length > 0) { %>
            <div class="card">
                <h2>üìã S·∫£n ph·∫©m m·ªõi nh·∫•t</h2>
                <div style="margin-top: 20px;">
                    <% if(typeof recentProducts !== 'undefined' && recentProducts.length > 0) { %>
                        <% recentProducts.forEach(product => { %>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 15px; margin: 10px 0; background: #f8f9fa; border-radius: 10px; border-left: 4px solid #74b9ff;">
                                <div>
                                    <h4 style="margin: 0; color: #2c3e50;">üì±
                                        <%= product.name %>
                                    </h4>
                                    <p style="margin: 5px 0; color: #7f8c8d;">üè¢
                                        <%= product.supplierId ? product.supplierId.name : 'Ch∆∞a c√≥ nh√† cung c·∫•p' %>
                                    </p>
                                </div>
                                <div style="text-align: right;">
                                    <p style="margin: 0; font-weight: bold; color: #27ae60;">
                                        <%= product.price.toLocaleString('vi-VN') %> VNƒê</p>
                                    <p style="margin: 5px 0; color: #7f8c8d;">S·ªë l∆∞·ª£ng:
                                        <%= product.quantity %>
                                    </p>
                                </div>
                            </div>
                            <% }) %>
                                <% } %>
                                    <div style="text-align: center; margin-top: 20px;">
                                        <a href="/products" class="btn btn-primary">Xem t·∫•t c·∫£ s·∫£n ph·∫©m</a>
                                    </div>
                </div>
            </div>
            <% } %>
    </div>
    <%- include('partials/footer') %>